<!DOCTYPE html>
<html ng-app="adressApp">
<!-- ng-app="adressApp" = Direktive -->

<head>
    <meta charset="utf-8">
    <title>Kontakte</title>
    <!--braucht das gulpfile um Dateien zusammenzufassen-->
    <!-- build:css styles.css -->
    <!-- <link rel="stylesheet" href="css/app.css"> -->
    <!-- <link rel="stylesheet" href="bower_components/angular/angular-csp.css"> -->
    <link rel="stylesheet" href="css/icon_font.css">
    <link rel="stylesheet" href="css/styles.css">
    <!-- <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"> -->
    <!-- <link rel="stylesheet" href="bower_components/bootstrap/dist/css/styles.css"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- endbuild -->
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script>
    var adressApp = angular.module('adressApp', ['ngRoute']); /*'ngResource'*/

    adressApp.config(function($routeProvider) {
        $routeProvider.
        when('/', {
            templateUrl: 'views/adressListe.html',
            controller: 'AdressListeCtrl'
        }).
        when('/adressNeu', {
            templateUrl: 'views/adressNeu.html',
            controller: 'AdressNeuCtrl'
        }).
        when('/:AdressName', {
            templateUrl: 'views/adressDetail.html',
            controller: 'AdressDetailCtrl'
        }).
        otherwise({
            redirectTo: '/'
        });
    });

    adressApp.controller('AdressNeuCtrl', function($scope, $routeParams, $http) {

    });

    adressApp.controller('AdressListeCtrl', ['$scope', '$http', function(scope, http) { /*[]dipendency injection wegen minifizierung*/
        http.get('adressen.json').success(function(data) {
            scope.adressen = data;
        });
    }]);

    adressApp.controller('AdressDetailCtrl', function($scope, $routeParams, $http) {
        $scope.name = $routeParams.AdressName;

        $http.get('adressen.json').success(function(data) {

            $scope.adresse = data.filter(function(entry) {
                return entry.name === $scope.name;
            })[0];
        });
    });
    </script>
</head>

<body>
    <div class="container">
        <ng-include src="'parts/header_1.html'"></ng-include>
        <main ng-view></main>
    </div>
    <ng-include src="'parts/footer.html'"></ng-include>
    <!-- build:js js.js-->
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <!--     <script src="js/app.js"></script> -->
    <!-- <script src="js/controllers/main.js"></script> -->
    <!-- endbuild -->
</body>

</html>
